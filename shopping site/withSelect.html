<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>shopping</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <style>
    .card{
        border:1px solid black;
        width: 202px;
        height: 400px;
        margin: 70px;
    }
    #maindiv{
     display: flex;
    }
   
    #div2{
        height: 80px;
    }
    #div3{
        display: flex;
        height: 10px;
    }
    #div4{
        height: 60px;
        padding-top: 20px;
    }
    #div5{
         margin-top: 10px;
    }
    #head1{
        font-size: large;
        font-weight: 400;
        margin-top: 0px;
        margin-bottom: 10px;

        font-family:'Roboto', sans-serif;
    }
    #head3{
        font-size: smaller;
        font-weight: 200;
        margin-top: 0px;
        margin-bottom: 5px;

        font-family: 'Roboto', sans-serif;
        font-style: italic;
    }
    .b1{
         width: 200px;
    }
    #carthead{
         border: 1px solid black;
         text-align: center;
         
    }
    #cart{
         width: 200px;
         margin-top: 60px;
    }
    #cartbody{
         text-align: center;
    }
    #total{
         text-align: center;
         border: 1px solid black;
    }

    </style>
</head>
<body>
     <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        
    <script>
        let data=[
     {
          "productName" : "T-Shirt",
          "basePrice" : 500,
          "image" : "http://placehold.it/200x200",
          "description" : "Look trendy and feel comfortable with Plain Solid Half Sleeve T-Shirt.",
          "varients" : [
               {
                    "type" : "Size",
                    "values" : ["xl","xxl"]
               },
               {
                    "type" : "Meterial",
                    "values" : ["cotton","silk"]
               },
               {
                    "type" : "Color",
                    "values" : ["yellow","red"]
               }
          ],
          "varientDetails" : [
               {
                    "size" : "xl",
                    "meterial" : "cotton",
                    "color" : "red",
                    "addOnprice" : 30
               },
               {
                    "size" : "xl",
                    "meterial" : "cotton",
                    "color" : "yellow",
                    "addOnprice" : 40
               },
               {
                    "size" : "xl",
                    "meterial" : "silk",
                    "color" : "red",
                    "addOnprice" : 50
               },
               {
                    "size" : "xl",
                    "meterial" : "silk",
                    "color" : "yellow",
                    "addOnprice" : 60
               },
               {
                    "size" : "xxl",
                    "meterial" : "cotton",
                    "color" : "red",
                    "addOnprice" : 70
               },
               {
                    "size" : "xxl",
                    "meterial" : "cotton",
                    "color" : "yellow",
                    "addOnprice" : 80
               },
               {
                    "size" : "xxl",
                    "meterial" : "silk",
                    "color" : "red",
                    "addOnprice" : 90
               },
               {
                    "size" : "xxl",
                    "meterial" : "silk",
                    "color" : "yellow",
                    "addOnprice" : 100
               }
          ]
     },
     {
          "productName" : "Saree",
          "basePrice" : 5000,
          "image" : "http://placehold.it/200x200",
          "description" : "Red & Yellow Sarees For Women.This Saree Looks Beautiful In Evening Parties.",
          "varients" : [
               {
                    "type" : "Meterial",
                    "values" : ["cotton","silk"]
               },
               {
                    "type" : "Color",
                    "values" : ["yellow","red"]
               }
          ],
          "varientDetails" : [
               {
                    "meterial" : "cotton",
                    "color" : "red",
                    "addOnprice" : 30
               },
               {
                    "meterial" : "cotton",
                    "color" : "yellow",
                    "addOnprice" : 40
               },
               {
                    "meterial" : "silk",
                    "color" : "red",
                    "addOnprice" : 50
               },
               {
                    "meterial" : "silk",
                    "color" : "yellow",
                    "addOnprice" : 60
               }
          ]
     }
];


let cost=0;
let tot=0;
        let maindiv=document.createElement('div');
        maindiv.setAttribute('class','maindiv');
        maindiv.setAttribute('id','maindiv');

        let cart=document.createElement('div');
        cart.id="cart";
        
        let carthead=document.createElement('div');
        carthead.id="carthead";
        carthead.innerHTML="Cart";
        cart.appendChild(carthead);

        let cartbody=document.createElement('div');
        cartbody.id="cartbody";
        cartbody.innerHTML="";
        cart.appendChild(cartbody);
        
        let total=document.createElement('div');
        total.id="total";
        total.innerHTML="";
        cart.appendChild(total);

        for(let i=0;i<data.length;i++)
{
        let card=document.createElement('div');//inserting card inside main din
        card.setAttribute('class','card');
        //document.body.appendChild(maindiv);
        maindiv.appendChild(card);
        document.body.appendChild(maindiv);

        let div1=document.createElement('div');
        div1.setAttribute('id','div1');
        let img=document.createElement('img')
        img.setAttribute('src',data[i].image);
        card.appendChild(div1);
        div1.appendChild(img);

        let div2=document.createElement('div');
        div2.setAttribute('id','div2');
        card.appendChild(div2);

        
        let head1=document.createElement('h1');
        head1.setAttribute('id','head1');
        div2.appendChild(head1);
        let head3=document.createElement('h3');
        head3.setAttribute('id','head3');
        div2.appendChild(head3);

        head1.innerHTML=data[i].productName;
        head3.innerHTML=data[i].description;

        let div3=document.createElement('div');
        div3.setAttribute('id','div3');
        card.appendChild(div3);


     let form =document.createElement('form');
          form.id='form'+i;
          div3.appendChild(form);
       for(let m=0;m<data[i].varients.length;m++){
          let var1=document.createElement('select');
          var1.id='var'+i+m;
          form.appendChild(var1);
          for(let n=0;n<data[i].varients[m].values.length;n++)
          {
               let op1=document.createElement('option');
               op1.id='op'+i+m+n;
               op1.value=data[i].varients[m].values[n];
               op1.innerHTML=data[i].varients[m].values[n];
               var1.appendChild(op1);
          }


       } 
        let div4=document.createElement('div');
        div4.setAttribute('id','div4');
        card.appendChild(div4);
        div4.innerHTML="Rs "+data[i].basePrice;
     
        let div5=document.createElement('div');
        div5.id="div5";
        card.appendChild(div5);
        let add=document.createElement('button');
        add.setAttribute('class','btn btn-success b1');
        add.innerHTML="Add";
        add.addEventListener('click',()=>{
             if(i==0){
          let v1=document.getElementById("var"+i+0).value;
          
          let v2=document.getElementById("var"+i+1).value;
         
          let v3=document.getElementById("var"+i+2).value;
          
         if(v1=="xl"){
              if(v2=="cotton"){
                   if(v3=="red"){
                        cost=data[i].varientDetails[0].addOnprice;
                        
                   }
                   else{
                         cost=data[i].varientDetails[1].addOnprice;
                         
                   }
              }
              else{
               if(v3=="red"){
                        cost=data[i].varientDetails[2].addOnprice;
                        
                   }
                   else{
                         cost=data[i].varientDetails[3].addOnprice;
                         
                   }
              }
         }
         else{
          if(v2=="cotton"){
                   if(v3=="red"){
                        cost=data[i].varientDetails[4].addOnprice;
                        

                   }
                   else{
                         cost=data[i].varientDetails[5].addOnprice;
                         
                   }
              }
              else{
               if(v3=="red"){
                        cost=data[i].varientDetails[6].addOnprice;
                        
                   }
                   else{
                         cost=data[i].varientDetails[7].addOnprice;
                         
                   }
              }
         }
         }
         else{
          let v1=document.getElementById("var"+i+0).value;
          let v2=document.getElementById("var"+i+1).value;
         
          if(v1=="cotton"){
                   if(v2=="red"){
                        cost=data[i].varientDetails[0].addOnprice;
                        
                   }
                   else{
                         cost=data[i].varientDetails[1].addOnprice;
                         
                   }
              }
          else{
               if(v2=="red"){
                        cost=data[i].varientDetails[2].addOnprice;
                        
                   }
                   else{
                         cost=data[i].varientDetails[3].addOnprice;
                         
                   }
              }
         }
         
         let tot_cost=cost+data[i].basePrice;
         cartbody.innerHTML+=data[i].productName+" : "+tot_cost;
         let br=document.createElement('br');
         cartbody.appendChild(br);
         tot=tot+cost+data[i].basePrice;
         total.innerHTML=tot;
        });
        div5.appendChild(add);
        
}
maindiv.appendChild(cart);




    </script>
</body>
</html>